-- Crear la tabla Localitats
CREATE TABLE Localitats (
    localitat_id INT PRIMARY KEY,
    nom VARCHAR(255),
    provincia_id INT,
    FOREIGN KEY (provincia_id) REFERENCES Provincies(provincia_id)
);

-- Crear la tabla Provincies
CREATE TABLE Provincies (
    provincia_id INT PRIMARY KEY,
    nom VARCHAR(255)
);

-- Crear la tabla Clients
CREATE TABLE Clients (
    client_id INT PRIMARY KEY,
    nom VARCHAR(255),
    cognoms VARCHAR(255),
    adreca VARCHAR(255),
    codi_postal VARCHAR(20),
    localitat_id INT,
    telefon VARCHAR(20),
    FOREIGN KEY (localitat_id) REFERENCES Localitats(localitat_id)
);

-- Crear la tabla Categories
CREATE TABLE Categories (
    categoria_id INT PRIMARY KEY,
    nom VARCHAR(255)
);

-- Crear la tabla Productes
CREATE TABLE Productes (
    producte_id INT PRIMARY KEY,
    nom VARCHAR(255),
    descripcio TEXT,
    imatge VARCHAR(255),
    preu DECIMAL(10, 2),
    categoria_id INT,
    FOREIGN KEY (categoria_id) REFERENCES Categories(categoria_id)
);

-- Crear la tabla Botigues
CREATE TABLE Botigues (
    botiga_id INT PRIMARY KEY,
    adreca VARCHAR(255),
    codi_postal VARCHAR(20),
    localitat_id INT,
    provincia_id INT,
    FOREIGN KEY (localitat_id) REFERENCES Localitats(localitat_id),
    FOREIGN KEY (provincia_id) REFERENCES Provincies(provincia_id)
);

-- Crear la tabla Empleats
CREATE TABLE Empleats (
    empleat_id INT PRIMARY KEY,
    nom VARCHAR(255),
    cognoms VARCHAR(255),
    nif VARCHAR(20),
    telefon VARCHAR(20),
    cuiner TINYINT(1),
    repartidor TINYINT(1),
    botiga_id INT,
    FOREIGN KEY (botiga_id) REFERENCES Botigues(botiga_id)
);

-- Crear la tabla Comandes
CREATE TABLE Comandes (
    comanda_id INT PRIMARY KEY,
    client_id INT,
    data_hora DATETIME,
    tipus VARCHAR(20),
    preu_total DECIMAL(10, 2),
    FOREIGN KEY (client_id) REFERENCES Clients(client_id)
);

-- Crear la tabla Lliurament
CREATE TABLE Lliurament (
    lliurament_id INT PRIMARY KEY,
    comanda_id INT,
    repartidor_id INT,
    data_hora_lliurament DATETIME,
    FOREIGN KEY (comanda_id) REFERENCES Comandes(comanda_id),
    FOREIGN KEY (repartidor_id) REFERENCES Empleats(empleat_id)
);
